# ğŸ¦‹ MorphoNews é€²åŒ–å‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

## ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

MorphoNewsã¯ã€Œè‡ªå·±é€²åŒ–ã™ã‚‹Webãƒšãƒ¼ã‚¸ã€ã§ã™ã€‚AIãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã™ã‚‹ãŸã³ã«ï¼š

1. **æ–°ã—ã„æ©Ÿèƒ½**ãŒè¿½åŠ ã•ã‚Œã‚‹ï¼ˆJSãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰
2. **æ–°ã—ã„ã‚¹ã‚¿ã‚¤ãƒ«**ãŒç”Ÿæˆã•ã‚Œã‚‹ï¼ˆCSSãƒ†ãƒ¼ãƒï¼‰
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯éå»ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è‡ªç”±ã«é¸æŠã§ãã‚‹
4. æ©Ÿèƒ½ã¯å€‹åˆ¥ã«ON/OFFå¯èƒ½

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
morphonews/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html                    # æœ€æ–°ç‰ˆã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
â”‚   â”œâ”€â”€ history.html                  # å±¥æ­´ä¸€è¦§
â”‚   â”œâ”€â”€ settings.html                 # è¨­å®šãƒšãƒ¼ã‚¸ï¼ˆæ©Ÿèƒ½ON/OFFã€ã‚¹ã‚¿ã‚¤ãƒ«é¸æŠï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ archives/
â”‚   â”‚   â”œâ”€â”€ TEMPLATE.html             # ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆè»½é‡ï¼‰
â”‚   â”‚   â””â”€â”€ YYYY-MM-DD_HHMM.html      # ç”Ÿæˆã•ã‚ŒãŸãƒšãƒ¼ã‚¸
â”‚   â”‚
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ YYYY-MM-DD_HHMM.json      # ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿
â”‚   â”‚
â”‚   â”œâ”€â”€ features/                     # æ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â”‚   â”œâ”€â”€ features.json             # æ©Ÿèƒ½ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
â”‚   â”‚   â”œâ”€â”€ core/                     # å¿…é ˆæ©Ÿèƒ½ï¼ˆå¸¸ã«èª­ã¿è¾¼ã¿ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ loader.js             # ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ­ãƒ¼ãƒ€ãƒ¼
â”‚   â”‚   â”‚   â””â”€â”€ news-renderer.js      # ãƒ‹ãƒ¥ãƒ¼ã‚¹è¡¨ç¤º
â”‚   â”‚   â””â”€â”€ modules/                  # ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
â”‚   â”‚       â”œâ”€â”€ reading-progress.js   # èª­æ›¸é€²æ—ãƒãƒ¼
â”‚   â”‚       â”œâ”€â”€ font-resize.js        # ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºèª¿æ•´
â”‚   â”‚       â”œâ”€â”€ keyboard-nav.js       # ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚       â””â”€â”€ [AIç”Ÿæˆ].js           # AIãŒç”Ÿæˆã—ãŸæ–°æ©Ÿèƒ½
â”‚   â”‚
â”‚   â””â”€â”€ styles/                       # ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚       â”œâ”€â”€ styles.json               # ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
â”‚       â”œâ”€â”€ base.css                  # å…±é€šãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ«
â”‚       â””â”€â”€ themes/                   # ãƒ†ãƒ¼ãƒåˆ¥CSS
â”‚           â”œâ”€â”€ default.css
â”‚           â”œâ”€â”€ ocean.css
â”‚           â”œâ”€â”€ forest.css
â”‚           â””â”€â”€ [AIç”Ÿæˆ].css          # AIãŒç”Ÿæˆã—ãŸæ–°ã‚¹ã‚¿ã‚¤ãƒ«
â”‚
â””â”€â”€ scripts/
    â”œâ”€â”€ generator.py                  # ãƒ¡ã‚¤ãƒ³ç”Ÿæˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
    â””â”€â”€ requirements.txt
```

## å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

### ãƒ•ã‚§ãƒ¼ã‚º1: æ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ 

**ç›®æ¨™**: æ©Ÿèƒ½ã‚’JSãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†é›¢ã—ã€å‹•çš„ã«èª­ã¿è¾¼ã‚€ä»•çµ„ã¿ã‚’æ§‹ç¯‰

1. `features/features.json` - æ©Ÿèƒ½ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†
2. `features/core/loader.js` - ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ­ãƒ¼ãƒ€ãƒ¼ï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼‰
3. `features/core/news-renderer.js` - ãƒ‹ãƒ¥ãƒ¼ã‚¹è¡¨ç¤ºï¼ˆå¿…é ˆæ©Ÿèƒ½ï¼‰
4. `features/modules/` - ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã‚’å€‹åˆ¥JSãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†é›¢

**features.json ã®æ§‹é€ **:

```json
{
  "version": 1,
  "features": [
    {
      "id": "reading-progress",
      "name": "èª­æ›¸é€²æ—ãƒãƒ¼",
      "description": "ãƒšãƒ¼ã‚¸ä¸Šéƒ¨ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é€²æ—ã‚’è¡¨ç¤º",
      "file": "modules/reading-progress.js",
      "enabled": true,
      "category": "ui",
      "addedDate": "2026-01-11",
      "author": "ai"
    }
  ]
}
```

### ãƒ•ã‚§ãƒ¼ã‚º2: ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ 

**ç›®æ¨™**: ã‚¹ã‚¿ã‚¤ãƒ«ã‚’CSSãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†é›¢ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè‡ªç”±ã«åˆ‡ã‚Šæ›¿ãˆå¯èƒ½ã«

1. `styles/styles.json` - ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†
2. `styles/base.css` - å…±é€šãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ«
3. `styles/themes/` - ãƒ†ãƒ¼ãƒåˆ¥CSSãƒ•ã‚¡ã‚¤ãƒ«

**styles.json ã®æ§‹é€ **:

```json
{
  "version": 1,
  "currentDefault": "default",
  "themes": [
    {
      "id": "default",
      "name": "ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ",
      "description": "ã‚¤ãƒ³ãƒ‡ã‚£ã‚´ï¼†ãƒ‘ãƒ¼ãƒ—ãƒ«ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³",
      "file": "themes/default.css",
      "preview": {
        "primary": "#6366f1",
        "secondary": "#8b5cf6",
        "background": "#f8fafc"
      },
      "addedDate": "2026-01-11",
      "author": "system"
    }
  ]
}
```

### ãƒ•ã‚§ãƒ¼ã‚º3: generator.py æ”¹ä¿®

**ç›®æ¨™**: AIã«æ©Ÿèƒ½ã¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å€‹åˆ¥ã«ç”Ÿæˆã•ã›ã‚‹

1. **æ©Ÿèƒ½ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**: æ–°ã—ã„æ©Ÿèƒ½ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’AIã«ç”Ÿæˆã•ã›ã€JSãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜
2. **ã‚¹ã‚¿ã‚¤ãƒ«ç”Ÿæˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ**: ä»Šæ—¥ã®ãƒ ãƒ¼ãƒ‰ã«åˆã‚ã›ãŸCSSã‚’AIã«ç”Ÿæˆã•ã›ã€ãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜
3. **HTMLç”Ÿæˆ**: TEMPLATE.html ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€æ–°æ©Ÿèƒ½/æ–°ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å‚ç…§ã™ã‚‹HTMLã‚’ç”Ÿæˆ

### ãƒ•ã‚§ãƒ¼ã‚º4: è¨­å®šãƒšãƒ¼ã‚¸æ”¹ä¿®

**ç›®æ¨™**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ©Ÿèƒ½ã¨ã‚¹ã‚¿ã‚¤ãƒ«ã‚’è‡ªç”±ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã«

1. æ©Ÿèƒ½ä¸€è¦§ã®è¡¨ç¤ºã¨æœ‰åŠ¹/ç„¡åŠ¹åˆ‡ã‚Šæ›¿ãˆ
2. ã‚¹ã‚¿ã‚¤ãƒ«ã‚®ãƒ£ãƒ©ãƒªãƒ¼ã¨ãƒ†ãƒ¼ãƒé¸æŠ
3. è¨­å®šã®localStorageä¿å­˜

---

## AIç”Ÿæˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
1. ãƒ‹ãƒ¥ãƒ¼ã‚¹å–å¾—ãƒ»AIè¦ç´„
   â†“
2. æ©Ÿèƒ½ç”Ÿæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
   - æ—¢å­˜æ©Ÿèƒ½ã‚’åˆ†æ
   - æ–°æ©Ÿèƒ½ã®ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç”Ÿæˆ
   - JSãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜
   - features.json ã«ç™»éŒ²
   â†“
3. ã‚¹ã‚¿ã‚¤ãƒ«ç”Ÿæˆ
   - ä»Šæ—¥ã®ãƒ ãƒ¼ãƒ‰ã‚’åˆ†æ
   - CSSãƒ†ãƒ¼ãƒã‚’ç”Ÿæˆ
   - ãƒ†ãƒ¼ãƒãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜
   - styles.json ã«ç™»éŒ²
   â†“
4. HTMLç”Ÿæˆ
   - TEMPLATE.html ã‚’ãƒ™ãƒ¼ã‚¹ã«
   - ä»Šæ—¥ã®æ©Ÿèƒ½/ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é©ç”¨
   - archives/ ã«ä¿å­˜
   â†“
5. ãƒ‡ãƒ—ãƒ­ã‚¤
```

## æŠ€è¡“çš„è€ƒæ…®äº‹é …

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ­ãƒ¼ãƒ€ãƒ¼ã®ä»•çµ„ã¿

```javascript
// loader.js
class MorphoLoader {
  async init() {
    // 1. features.json ã‚’èª­ã¿è¾¼ã¿
    const features = await fetch('/features/features.json').then(r => r.json());
    
    // 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã‚’èª­ã¿è¾¼ã¿ï¼ˆlocalStorageï¼‰
    const userSettings = this.loadUserSettings();
    
    // 3. æœ‰åŠ¹ãªæ©Ÿèƒ½ã®ã¿å‹•çš„èª­ã¿è¾¼ã¿
    for (const feature of features.features) {
      if (this.isEnabled(feature, userSettings)) {
        await this.loadModule(feature.file);
      }
    }
  }
  
  async loadModule(path) {
    const script = document.createElement('script');
    script.src = `/features/${path}`;
    document.body.appendChild(script);
  }
}
```

### ã‚¹ã‚¿ã‚¤ãƒ«åˆ‡ã‚Šæ›¿ãˆã®ä»•çµ„ã¿

```javascript
// style-switcher.js
class StyleSwitcher {
  async switchTheme(themeId) {
    // 1. ç¾åœ¨ã®ãƒ†ãƒ¼ãƒCSSã‚’å‰Šé™¤
    document.getElementById('theme-css')?.remove();
    
    // 2. æ–°ã—ã„ãƒ†ãƒ¼ãƒCSSã‚’èª­ã¿è¾¼ã¿
    const link = document.createElement('link');
    link.id = 'theme-css';
    link.rel = 'stylesheet';
    link.href = `/styles/themes/${themeId}.css`;
    document.head.appendChild(link);
    
    // 3. è¨­å®šã‚’ä¿å­˜
    localStorage.setItem('morpho-theme', themeId);
  }
}
```

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… å®Ÿè£…è¨ˆç”»ä½œæˆ
2. âœ… ãƒ•ã‚§ãƒ¼ã‚º1: æ©Ÿèƒ½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰
   - `features/features.json` - æ©Ÿèƒ½ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†
   - `features/core/loader.js` - ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ­ãƒ¼ãƒ€ãƒ¼
   - `features/core/news-renderer.js` - ãƒ‹ãƒ¥ãƒ¼ã‚¹è¡¨ç¤º
   - `features/modules/reading-progress.js` - èª­æ›¸é€²æ—ãƒãƒ¼
   - `features/modules/font-resize.js` - ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºèª¿æ•´
   - `features/modules/keyboard-nav.js` - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“
   - `features/modules/style-switcher.js` - ã‚¹ã‚¿ã‚¤ãƒ«åˆ‡æ›¿
3. âœ… ãƒ•ã‚§ãƒ¼ã‚º2: ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰
   - `styles/styles.json` - ã‚¹ã‚¿ã‚¤ãƒ«ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†
   - `styles/base.css` - ãƒ™ãƒ¼ã‚¹ã‚¹ã‚¿ã‚¤ãƒ«
   - `styles/themes/*.css` - 6ã¤ã®ãƒ†ãƒ¼ãƒï¼ˆdefault, ocean, forest, sunset, midnight, cherryï¼‰
4. âœ… ãƒ•ã‚§ãƒ¼ã‚º3: generator.py æ”¹ä¿®
   - `generate_new_feature()` - AIæ©Ÿèƒ½ç”Ÿæˆ
   - `generate_new_style()` - AIã‚¹ã‚¿ã‚¤ãƒ«ç”Ÿæˆ
   - ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ™ãƒ¼ã‚¹ã®HTMLç”Ÿæˆ
5. âœ… ãƒ•ã‚§ãƒ¼ã‚º4: è¨­å®šãƒšãƒ¼ã‚¸ãƒ»ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ
   - `settings.html` - æ©Ÿèƒ½ON/OFFã€ãƒ†ãƒ¼ãƒé¸æŠUI
   - `history.html` - ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã€æ¤œç´¢ãƒ»ã‚½ãƒ¼ãƒˆæ©Ÿèƒ½
   - ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆå…¨ãƒšãƒ¼ã‚¸å…±é€šï¼‰
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šã®localStorageæ°¸ç¶šåŒ–
