/**
 * MorphoNews Feature: エージェンティック・フルイド・ステート・インターポレーター
 * Generated: 2026-01-18_0024
 * Description: コンテンツの更新やレイアウト変更を検知し、要素間に流体のような有機的な遷移（Transition）を生成します。各要素の移動を、物理演算に基づいたイージングと残像エフェクトで補完し、情報の変容を直感的に伝えます。
 */
(function() { const style = document.createElement('style'); style.textContent = ` .morph-fluid-container { transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1); } .morph-interpolating { position: relative; pointer-events: none; } .morph-interpolating::after { content: ''; position: absolute; inset: -10px; background: rgba(0, 150, 255, 0.05); filter: blur(15px); border-radius: inherit; animation: morph-flow-shimmer 0.8s ease-out; } @keyframes morph-flow-shimmer { 0% { opacity: 0; transform: scale(0.95); } 50% { opacity: 1; transform: scale(1.05); } 100% { opacity: 0; transform: scale(1); } } .fluid-transition-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; pointer-events: none; z-index: 9999; mix-blend-mode: overlay; background: radial-gradient(circle at var(--x) var(--y), rgba(255,255,255,0.2) 0%, transparent 50%); opacity: 0; transition: opacity 0.5s; } .interpolator-active .news-card, .interpolator-active article { transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s ease; } `; document.head.appendChild(style); const overlay = document.createElement('div'); overlay.className = 'fluid-transition-overlay'; document.body.appendChild(overlay); let lastScrollY = window.scrollY; let isInterpolating = false; const handleStateChange = () => { if (isInterpolating) return; isInterpolating = true; document.body.classList.add('interpolator-active'); const items = document.querySelectorAll('article, .news-card, .news-item'); items.forEach((item, index) => { item.classList.add('morph-interpolating'); item.style.transitionDelay = `${index * 30}ms`; }); setTimeout(() => { items.forEach(item => item.classList.remove('morph-interpolating')); document.body.classList.remove('interpolator-active'); isInterpolating = false; }, 1000); }; const observer = new MutationObserver((mutations) => { let shouldTrigger = false; mutations.forEach(m => { if (m.addedNodes.length > 0 || m.type === 'attributes') shouldTrigger = true; }); if (shouldTrigger) handleStateChange(); }); observer.observe(document.body, { childList: true, subtree: true, attributes: true, attributeFilter: ['style', 'class'] }); window.addEventListener('mousemove', (e) => { overlay.style.setProperty('--x', `${e.clientX}px`); overlay.style.setProperty('--y', `${e.clientY}px`); overlay.style.opacity = '1'; clearTimeout(window.fluidTimeout); window.fluidTimeout = setTimeout(() => overlay.style.opacity = '0', 1000); }); window.addEventListener('scroll', () => { const delta = Math.abs(window.scrollY - lastScrollY); if (delta > 50) { overlay.style.opacity = Math.min(delta / 200, 0.4); } lastScrollY = window.scrollY; }); console.log('Agentic Fluid State Interpolator: Activated (Transition Mood)'); })();
