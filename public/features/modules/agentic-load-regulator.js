/**
 * MorphoNews Feature: エージェンティック・負荷レギュレーター
 * Generated: 2026-01-17_1716
 * Description: ページの視覚的複雑性とDOM密度をリアルタイムで監視し、認知負荷が一定値を超えた場合に表示要素を自動的に整理・減衰させて「情報の規制」を行います。
 */
(function() { const style = document.createElement('style'); style.textContent = ` #load-regulator-panel { position: fixed; bottom: 20px; left: 20px; width: 180px; background: rgba(0, 0, 0, 0.85); color: #00ffcc; padding: 12px; border-radius: 4px; border-left: 4px solid #00ffcc; font-family: 'Courier New', monospace; font-size: 11px; z-index: 10000; box-shadow: 0 4px 15px rgba(0,0,0,0.5); pointer-events: none; transition: opacity 0.3s; } #load-regulator-panel.active { pointer-events: auto; } .reg-meter { height: 4px; background: #222; margin: 8px 0; overflow: hidden; border: 1px solid #444; } .reg-progress { height: 100%; background: #00ffcc; width: 0%; transition: width 0.4s ease, background 0.4s; } .regulated-element { transition: opacity 0.6s ease, filter 0.6s ease; } .regulated-element.suppressed { opacity: 0.15 !important; filter: grayscale(100%) blur(2px) !important; pointer-events: none !important; } `; document.head.appendChild(style); const panel = document.createElement('div'); panel.id = 'load-regulator-panel'; panel.innerHTML = ` <div style='font-weight:bold; margin-bottom:5px;'>REGULATION UNIT</div> <div id='reg-density-label'>DENSITY: 0%</div> <div class='reg-meter'><div id='reg-bar' class='reg-progress'></div></div> <div id='reg-status' style='color:#888;'>SCANNING...</div> `; document.body.appendChild(panel); let regulationActive = false; function assessAndRegulate() { const elements = document.querySelectorAll('p, div, img, section, article'); const density = Math.min(100, (elements.length / 500) * 100); const bar = document.getElementById('reg-bar'); const label = document.getElementById('reg-density-label'); const status = document.getElementById('reg-status'); label.textContent = 'DENSITY: ' + Math.floor(density) + '%'; bar.style.width = density + '%'; if (density > 60) { bar.style.background = '#ff3366'; status.textContent = 'STATE: RESTRICTED'; status.style.color = '#ff3366'; activateRegulation(true); } else { bar.style.background = '#00ffcc'; status.textContent = 'STATE: STABLE'; status.style.color = '#00ffcc'; activateRegulation(false); } } function activateRegulation(active) { if (active === regulationActive) return; regulationActive = active; const candidates = document.querySelectorAll('img, aside, .ad, .sidebar, footer, nav'); candidates.forEach((el, index) => { if (active) { el.classList.add('regulated-element'); if (index % 2 === 0) el.classList.add('suppressed'); } else { el.classList.remove('suppressed'); } }); } setInterval(assessAndRegulate, 3000); assessAndRegulate(); })();
