/**
 * MorphoNews Feature: エージェンティック・知覚負荷レギュレーター
 * Generated: 2026-01-18_0043
 * Description: ページ内の動的変化、要素密度、およびユーザーの操作速度をリアルタイムで分析。知覚負荷が規定値を超えた場合に、色彩の彩度抑制やアニメーションの減速を行い、情報の過負荷を物理的に「規制」します。
 */
(function() { const style = document.createElement('style'); style.textContent = ` .morpho-regulator-ui { position: fixed; bottom: 20px; right: 20px; z-index: 10000; font-family: 'monospace'; font-size: 10px; background: rgba(0,0,0,0.85); color: #00ff00; padding: 10px; border-radius: 4px; border-left: 3px solid #00ff00; pointer-events: none; transition: all 0.5s ease; width: 180px; box-shadow: 0 4px 15px rgba(0,0,0,0.5); } .morpho-regulated-active { filter: saturate(0.4) contrast(0.9); transition: filter 2s ease !important; } .morpho-regulated-active * { animation-duration: 3s !important; transition-duration: 1.5s !important; } .morpho-regulator-bar { height: 4px; background: #333; margin-top: 5px; overflow: hidden; } .morpho-regulator-fill { height: 100%; background: #00ff00; width: 0%; transition: width 0.3s ease; } .morpho-regulator-warning { color: #ff3300; border-left-color: #ff3300; } `; document.head.appendChild(style); const container = document.createElement('div'); container.className = 'morpho-regulator-ui'; container.innerHTML = '<div>PERCEPTUAL LOAD</div><div class="morpho-regulator-bar"><div class="morpho-regulator-fill" id="reg-fill"></div></div><div id="reg-status">STABLE</div>'; document.body.appendChild(container); let loadScore = 0; const threshold = 70; const fill = document.getElementById('reg-fill'); const status = document.getElementById('reg-status'); const updateRegulation = () => { loadScore = Math.max(0, loadScore - 0.5); const displayScore = Math.min(100, loadScore); fill.style.width = displayScore + '%'; if (loadScore > threshold) { document.body.classList.add('morpho-regulated-active'); container.classList.add('morpho-regulator-warning'); status.innerText = 'REGULATING: HIGH LOAD'; fill.style.background = '#ff3300'; } else { document.body.classList.remove('morpho-regulated-active'); container.classList.remove('morpho-regulator-warning'); status.innerText = 'STATUS: STABLE'; fill.style.background = '#00ff00'; } requestAnimationFrame(updateRegulation); }; const observer = new MutationObserver(() => { loadScore += 2; }); observer.observe(document.body, { attributes: true, childList: true, subtree: true }); window.addEventListener('mousemove', (e) => { const speed = Math.abs(e.movementX) + Math.abs(e.movementY); if (speed > 50) loadScore += 0.5; }); window.addEventListener('scroll', () => { loadScore += 1; }); updateRegulation(); })();
