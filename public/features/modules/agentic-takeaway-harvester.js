/**
 * MorphoNews Feature: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒ»ãƒ†ã‚¤ã‚¯ã‚¢ã‚¦ãƒˆãƒ»ãƒãƒ¼ãƒ™ã‚¹ã‚¿ãƒ¼
 * Generated: 2026-01-20_0945
 * Description: ãƒšãƒ¼ã‚¸å†…ã®é‡è¦æ•°å€¤ã€å¼•ç”¨ã€æ±ºå®šçš„ãªä¸€æ–‡ã‚’è‡ªå‹•çš„ã«ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦æŠ½å‡ºã—ã€ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ã«ã€Œæƒ…å ±ã®åç©«ç‰©ã€ã¨ã—ã¦ä¸€è¦§è¡¨ç¤ºã—ã¾ã™ã€‚ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã“ã¨ã§æƒ…å ±ã®ã‚½ãƒ¼ã‚¹ã¸å³åº§ã«ã‚¸ãƒ£ãƒ³ãƒ—ã§ãã¾ã™ã€‚
 */
(function() { const style = document.createElement('style'); style.textContent = '#morpho-takeaway-panel { position: fixed; right: 15px; top: 120px; width: 240px; max-height: 65vh; background: #ffffff; border: 1px solid #e0e0e0; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); z-index: 9999; font-family: sans-serif; font-size: 12px; color: #333; display: flex; flex-direction: column; transition: transform 0.3s ease; } #morpho-takeaway-panel.minimized { transform: translateX(210px); } .mtp-header { background: #f8f9fa; padding: 10px; cursor: pointer; font-weight: bold; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; border-radius: 8px 8px 0 0; } .mtp-body { overflow-y: auto; flex-grow: 1; padding: 5px 0; } .mtp-item { padding: 10px 12px; border-bottom: 1px solid #f9f9f9; cursor: pointer; transition: background 0.2s; line-height: 1.4; } .mtp-item:hover { background: #f0f7ff; } .mtp-tag { font-size: 9px; font-weight: bold; color: #fff; padding: 2px 5px; border-radius: 4px; margin-right: 6px; vertical-align: middle; } .tag-data { background: #27ae60; } .tag-quote { background: #2980b9; } .tag-point { background: #e67e22; }'; document.head.appendChild(style); const panel = document.createElement('div'); panel.id = 'morpho-takeaway-panel'; panel.innerHTML = '<div class="mtp-header"><span>ğŸ“Œ Insight Harvester</span><small id="mtp-toggle">â–¼</small></div><div class="mtp-body" id="mtp-list"></div>'; document.body.appendChild(panel); const listContainer = panel.querySelector('#mtp-list'); panel.querySelector('.mtp-header').onclick = () => { panel.classList.toggle('minimized'); panel.querySelector('#mtp-toggle').textContent = panel.classList.contains('minimized') ? 'â—€' : 'â–¼'; }; const harvest = () => { const elements = document.querySelectorAll('p, blockquote, h2, h3'); const collected = []; elements.forEach(el => { const text = el.innerText.trim(); if (text.length < 30 || text.length > 300) return; let info = null; if (/[0-9]+(%|äºº|å††|ãƒ‰ãƒ«|å°|ç¤¾|ä»¶)/.test(text)) info = { label: 'DATA', class: 'tag-data' }; else if (/[ã€Œã€ã€ã€"]/.test(text)) info = { label: 'QUOTE', class: 'tag-quote' }; else if (/(é‡è¦|ãƒã‚¤ãƒ³ãƒˆ|çµè«–|çµæœ|æœ€å¤§|æœ€å°|æ›´æ–°)/.test(text)) info = { label: 'KEY', class: 'tag-point' }; if (info && collected.length < 12) { collected.push({ text, info, el }); } }); listContainer.innerHTML = collected.map((item, idx) => `<div class="mtp-item" data-idx="${idx}"><span class="mtp-tag ${item.info.class}">${item.info.label}</span>${item.text.substring(0, 60)}...</div>`).join(''); listContainer.querySelectorAll('.mtp-item').forEach(node => { node.onclick = () => { const item = collected[node.dataset.idx]; item.el.scrollIntoView({ behavior: 'smooth', block: 'center' }); item.el.style.transition = 'background 0.5s'; item.el.style.backgroundColor = '#fff3cd'; setTimeout(() => item.el.style.backgroundColor = 'transparent', 2000); }; }); }; setTimeout(harvest, 2000); })();
