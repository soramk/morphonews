/**
 * MorphoNews Feature: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ»ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒŠãƒ¼
 * Generated: 2026-01-12_1004
 * Description: ãƒšãƒ¼ã‚¸å†…ã®è¦‹å‡ºã—ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã‚¹ã‚­ãƒ£ãƒ³ã—ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªç›®æ¬¡ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚é•·ã„ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ•ã‚£ãƒ¼ãƒ‰å†…ã§ã®è¿…é€Ÿãªç§»å‹•ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚
 */
(function(){const s=document.createElement('style');s.innerHTML='#morpho-outliner{position:fixed;right:20px;bottom:20px;width:240px;max-height:45vh;background:rgba(255,255,255,0.95);border:1px solid #d1d5db;border-radius:10px;box-shadow:0 10px 25px -5px rgba(0,0,0,0.1),0 8px 10px -6px rgba(0,0,0,0.1);z-index:9999;font-family:Inter,system-ui,sans-serif;display:flex;flex-direction:column;backdrop-filter:blur(4px);transition:all 0.3s ease;overflow:hidden}#morpho-outliner.collapsed{height:40px;width:130px;transform:translateY(0)}#morpho-outliner-header{padding:10px 15px;background:#f9fafb;border-bottom:1px solid #e5e7eb;cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-weight:600;font-size:13px;color:#374151;user-select:none}#morpho-outliner-list{list-style:none;padding:8px 0;margin:0;overflow-y:auto;flex:1}#morpho-outliner-list li{padding:4px 15px;transition:background 0.2s}#morpho-outliner-list li:hover{background:#f3f4f6}#morpho-outliner-list a{text-decoration:none;color:#4b5563;font-size:12px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#morpho-outliner-list a:hover{color:#2563eb}@media(max-width:768px){#morpho-outliner{display:none}}';document.head.appendChild(s);const c=document.createElement('div');c.id='morpho-outliner';c.innerHTML='<div id="morpho-outliner-header"><span>ğŸ“‘ ç›®æ¬¡</span><span id="mo-toggle-icon">â–¼</span></div><ul id="morpho-outliner-list"></ul>';document.body.appendChild(c);let isRefreshing=false;let pendingRefresh=false;let refreshTimeout=null;const refresh=()=>{if(isRefreshing){pendingRefresh=true;return;}isRefreshing=true;observer.disconnect();const list=document.getElementById('morpho-outliner-list');list.innerHTML='';const items=document.querySelectorAll('h1,h2,h3,article h2,.news-item h2,.article-title');let count=0;items.forEach((item)=>{if(item.closest('#morpho-outliner'))return;const text=item.textContent.trim();if(!text||text.length<2)return;if(!item.id)item.id='mo-anchor-'+(count++);const li=document.createElement('li');const a=document.createElement('a');a.href='#'+item.id;a.textContent=text;a.title=text;a.onclick=(e)=>{e.preventDefault();item.scrollIntoView({behavior:'smooth',block:'start'});};li.appendChild(a);list.appendChild(li);});if(list.children.length===0){const empty=document.createElement('li');empty.style.color='#9ca3af';empty.textContent='è¦‹å‡ºã—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“';list.appendChild(empty);}observer.observe(document.body,{childList:true,subtree:true});isRefreshing=false;if(pendingRefresh){pendingRefresh=false;scheduleRefresh();}};const scheduleRefresh=()=>{if(refreshTimeout)clearTimeout(refreshTimeout);refreshTimeout=setTimeout(refresh,100);};document.getElementById('morpho-outliner-header').onclick=()=>{c.classList.toggle('collapsed');const icon=document.getElementById('mo-toggle-icon');icon.textContent=c.classList.contains('collapsed')?'â–²':'â–¼';};const observer=new MutationObserver((mutations)=>{let shouldUpdate=false;for(const m of mutations){if(m.target.closest&&m.target.closest('#morpho-outliner'))continue;if(m.addedNodes.length||m.removedNodes.length){shouldUpdate=true;break;}}if(shouldUpdate)scheduleRefresh();});refresh();observer.observe(document.body,{childList:true,subtree:true});})();
