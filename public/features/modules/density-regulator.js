/**
 * MorphoNews Feature: 情報密度レギュレーター
 * Generated: 2026-01-12_0114
 * Description: 「RegulatingGrowth」のムードに基づき、画面内の情報量を3段階で調整します。成長しすぎた情報を剪定し、ユーザーの認知負荷を最適化します。
 */
(function() { const id = 'morpho-density-regulator'; if (document.getElementById(id)) return; const style = document.createElement('style'); style.textContent = ` #${id} { position: fixed; bottom: 80px; right: 20px; background: #fff; border: 2px solid #333; padding: 12px; border-radius: 12px; box-shadow: 4px 4px 0px #333; z-index: 10001; font-family: 'Segoe UI', sans-serif; min-width: 150px; } #${id} h4 { margin: 0 0 8px 0; font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: #666; } .regulator-controls { display: flex; flex-direction: column; gap: 8px; } .regulator-btn { background: #f0f0f0; border: 1px solid #ccc; padding: 4px 8px; font-size: 12px; cursor: pointer; border-radius: 4px; transition: all 0.2s; } .regulator-btn.active { background: #333; color: #fff; border-color: #333; } /* Density Styles */ body.density-pruned .news-excerpt, body.density-pruned .news-meta, body.density-pruned footer { display: none !important; } body.density-pruned .news-item, body.density-pruned article { margin-bottom: 8px !important; padding: 8px !important; border-left: 4px solid #333 !important; } body.density-balanced .news-meta { display: none !important; } body.density-full .news-item { opacity: 1; } .morpho-hidden { opacity: 0.1; pointer-events: none; filter: blur(2px); } `; document.head.appendChild(style); const panel = document.createElement('div'); panel.id = id; panel.innerHTML = ` <h4>Growth Regulator</h4> <div class='regulator-controls'> <button class='regulator-btn' data-level='pruned'>Minimal (Pruned)</button> <button class='regulator-btn' data-level='balanced'>Balanced</button> <button class='regulator-btn active' data-level='full'>Full Growth</button> </div> `; document.body.appendChild(panel); const buttons = panel.querySelectorAll('.regulator-btn'); const applyDensity = (level) => { document.body.classList.remove('density-pruned', 'density-balanced', 'density-full'); document.body.classList.add(`density-${level}`); buttons.forEach(btn => { btn.classList.toggle('active', btn.dataset.level === level); }); if (level === 'pruned') { document.querySelectorAll('.news-item, article').forEach((el, i) => { if (i > 4) el.classList.add('morpho-hidden'); else el.classList.remove('morpho-hidden'); }); } else { document.querySelectorAll('.morpho-hidden').forEach(el => el.classList.remove('morpho-hidden')); } }; panel.addEventListener('click', (e) => { if (e.target.classList.contains('regulator-btn')) { applyDensity(e.target.dataset.level); } }); })();
