/**
 * MorphoNews Feature: ダイナミック・トピック・エクスプローラー
 * Generated: 2026-01-11_1632
 * Description: ページ内の記事から重要なキーワードを自動抽出し、インタラクティブなタグクラウドを生成します。特定のトピックをクリックすることで、関連するニュースへ瞬時にアクセスできます。
 */
(function() { const style = document.createElement('style'); style.textContent = '#topic-explorer-nav { position: sticky; top: 0; z-index: 1000; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); padding: 12px 20px; border-bottom: 1px solid #ddd; display: flex; flex-wrap: wrap; gap: 8px; align-items: center; max-height: 100px; overflow-y: auto; transition: all 0.3s ease; } #topic-explorer-nav::-webkit-scrollbar { width: 4px; } #topic-explorer-nav::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; } .morpho-tag { padding: 4px 12px; background: #f0f2f5; border: 1px solid #e0e0e0; border-radius: 16px; font-size: 12px; font-weight: 600; cursor: pointer; color: #555; transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); } .morpho-tag:hover { background: #007bff; color: white; border-color: #007bff; transform: translateY(-2px); box-shadow: 0 4px 8px rgba(0,123,255,0.2); } .topic-label { font-size: 11px; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-right: 8px; }'; document.head.appendChild(style); function initTopicExplorer() { const articles = Array.from(document.querySelectorAll('article, .news-item, .article-card')); if (articles.length === 0) return; const keywords = {}; articles.forEach((article, idx) => { const text = article.innerText; const matches = text.match(/[\u4e00-\u9faf]{2,}|[\u30a0-\u30ff]{2,}/g) || []; matches.slice(0, 15).forEach(word => { if (!keywords[word]) keywords[word] = []; keywords[word].push(article); }); }); const sortedTopics = Object.keys(keywords).sort((a, b) => keywords[b].length - keywords[a].length).slice(0, 12); const nav = document.createElement('div'); nav.id = 'topic-explorer-nav'; const label = document.createElement('span'); label.className = 'topic-label'; label.textContent = 'Hot Topics:'; nav.appendChild(label); sortedTopics.forEach(topic => { const tag = document.createElement('span'); tag.className = 'morpho-tag'; tag.textContent = topic; tag.onclick = () => { const target = keywords[topic][0]; target.scrollIntoView({ behavior: 'smooth', block: 'center' }); target.style.transition = 'outline 0.5s'; target.style.outline = '3px solid #007bff'; setTimeout(() => { target.style.outline = 'none'; }, 2000); }; nav.appendChild(tag); }); const header = document.querySelector('header') || document.body; header.insertAdjacentElement('afterend', nav); } if (document.readyState === 'complete') { initTopicExplorer(); } else { window.addEventListener('load', initTopicExplorer); } })();
